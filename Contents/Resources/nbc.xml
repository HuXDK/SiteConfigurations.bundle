<?xml version="1.0" encoding="UTF-8"?>
<site site="http://(.+\.)?(nbc|latenightwithjimmyfallon|jaylenosgarage)\.com"
	plugin="http://video\.nbcuni\.com/.+/player_nbc\.swf"
	agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20100101 Firefox/12.0"
	initialState="loading"
	version="7.0">

	<crop x="0" y="0" width="0" height="-26" />

<!-- New player, new seekbar that doesn't work, argh
	<seekbar type="simple">
		<start x="72" y="526" />
		<end x="630" y="526" />
		<played>
			<color rgb="191919" />
		</played>
	</seekbar>
-->

	<!-- Loading -->
	<state name="loading">
		<event>
			<condition>
				<frameLoaded />
			</condition>
			<action>
				<goto state="check-flash" />
			</action>
		</event>
	</state>

	<!-- Check Flash -->
	<state name="check-flash">
		<event>
			<condition>
				<javascript script="flash = navigator.plugins['Shockwave Flash'] ? 1 : 0" matches="0" />
			</condition>
			<action>
				<goto state="end" param="This plugin requires the Flash player to be installed." />
			</action>
		</event>

		<event>
			<condition>
				<javascript script="flash = navigator.plugins['Shockwave Flash'] ? 1 : 0" matches="1" />
			</condition>
			<action>
				<goto state="playing" />
			</action>
		</event>
	</state>

	<!-- PLAYING -->
	<state name="playing">
		<event>
			<condition>
				<command name="pause" />
			</condition>
			<action>
				<click x="18" y="-12" />
				<goto state="paused" />
			</action>
		</event>

		<!-- Video ends -->
		<event>
			<condition>
				<url matches="mezzanine.*\.jpg" />
			</condition>
			<action>
				<goto state="end" />
			</action>
		</event>
	</state>

	<!-- PAUSED -->
	<state name="paused">
		<event>
			<condition>
				<command name="play" />
			</condition>
			<action>
                <click x="18" y="-12" />
				<goto state="playing" />
			</action>
		</event>
	</state>
</site>